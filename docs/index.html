<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <title>Camera kit demo</title>
    <meta name="description" content="Camera kit demo">
    <meta name="robots" content="noindex">

    <link href="index.css" rel="stylesheet">
    <script src="./packed.js"></script>
  </head>

  <body>
    <!-- <div class="poweredbysnap-logo">
      <img id="image" src="./assets/Powered_bysnap.png" alt="Powered by Snap">
    </div> -->
    <div id="my-login-button-target"></div>


    <canvas id="canvas"></canvas>
    <video id="video" style="display: none;" autoplay muted playsinline></video>
  
  
   <!--LOGIN FOR PUSH2WEB-->
    <div id="display_name"></div>
    <img id="bitmoji" />
    <div id="external_id"></div>
    <hr />
    <div id="my-login-button-target"></div>
    <script>
      window.snapKitInit = function () {
        var loginButtonIconId = "my-login-button-target";
        // Mount Login Button
        snap.loginkit.mountButton(loginButtonIconId, {
          clientId: "49beb0c1-28e4-43a7-96f3-1c4bfc0dad08",
          redirectURI: "https://vjjv.github.io/bouygues_git/",
          scopeList: [
            "user.display_name",
            "user.bitmoji.avatar",
            "user.external_id",
          ],
          handleResponseCallback: function () {
            snap.loginkit.fetchUserInfo().then(
              function (result) {
                console.log("User info:", result.data.me);
                document.getElementById("display_name").innerHTML =
                  result.data.me.displayName;
                document.getElementById("bitmoji").src =
                  result.data.me.bitmoji.avatar;
                document.getElementById("external_id").src =
                  result.data.me.externalId;
              },
              function (err) {
                console.log(err); // Error
              }
            );
          },
        });
      };

      // Load the SDK asynchronously
      (function (d, s, id) {
        var js,
          sjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = "https://sdk.snapkit.com/js/v1/login.js";
        sjs.parentNode.insertBefore(js, sjs);
      })(document, "script", "loginkit-sdk");
    </script>
  
  </body>
</html>
